import asyncio
from aiogram import Bot
from dotenv import load_dotenv
import os

# Загружаем токен
load_dotenv()
TOKEN = os.getenv("BOT_TOKEN")

# Создаем бота
bot = Bot(token=TOKEN)

# Список всех user_id
user_ids = [
    6425885445, 637610140, 555550712, 1015664354, 670734669, 1220308357, 203537763,
    5598500693, 652224094, 120388996, 1147392302, 5012960110, 479562585, 963720180,
    1906538134, 1029612412, 305231518, 6350657418, 1647882134, 7798399960, 995694981,
    7410293216, 2115019516, 427976765, 5298892119, 829305582, 1005575781, 6678641744,
    823094694, 5547932783, 5004478854, 633618119, 6255683366, 1979933190, 1860622801,
    1352842985, 1356881682, 5283327755, 5542984023, 5093636033, 947196641, 108065157,
    243863959, 1537621851, 1807438920, 851764551, 159225870, 797815924, 5628315617,
    727555, 5510807791, 1436222623, 1694238884, 531684300, 885257643, 242110146,
    5968072197, 1175877170, 1175877170, 5012960110, 7666320318, 367810542, 1755601070,
    423707793, 185406163, 1477583798, 7082912525, 758072013, 1534237855, 521046001,
    269279547, 7666320318, 7666320318, 7666320318, 6425885445, 6425885445, 5174767483,
    1704195049, 183920567, 1624208080, 218523756, 5302732931, 6526933463, 1898819091,
    428405031, 693740821, 1441145308, 5630167070, 163252030, 316125538, 1267258574,
    1104278791, 448972584, 7596419600, 1530144727, 232915573, 1578905252, 1084160934,
    6425885445, 5017335604, 5131655294, 714153911, 5901808924, 1012547528, 461739977,
    656344095, 5264193292, 242012049, 2011573682, 1642841089, 6746395534, 1364533260,
    1014867794, 466638690, 1749177188, 1860589672, 502824918, 792245496, 1265979147,
    700157474, 1124897016, 546271709, 1694454453, 729750469, 1873361916, 869067469,
    433282376, 1583587883, 6388733207, 6388733207, 703133969, 1055379446, 396710439,
    2001263661, 2044678208, 759888612, 5244364530, 456711772, 7470118188, 6475635319,
    1824758908, 5267806138, 5080835802, 1801113653, 1154576582, 701149170, 317156804,
    2098473288, 741345974, 498049556, 456711772, 1077369222, 6183726049, 878442992,
    5188014905, 240367405, 445898125, 656174733, 5161704538, 6625692394, 8193646772,
    5297985411, 7380247292, 1215425689, 980890865, 520356418, 5890385855, 174175564,
    987237518, 40460929, 168925505, 216981161, 2007051415, 1128992453, 1699305776,
    99320518, 5257169145, 405917048, 31183493, 1185447915, 5856995130, 867355086,
    481915904, 5194809909, 6425885445, 6425885445, 6425885445, 7434863753, 5102240802,
    124945587, 140558444, 1337918833, 225920213, 387927843, 1040201426, 5212923979,
    972258554, 972258554, 6339996903, 457834711, 1190290257, 1074302577, 6880375189,
    6425885445, 471093583, 1247138567, 5116370981, 220360263, 853537121, 1325580091,
    229678149, 5530840458, 5093549645, 5694273481, 1054673626, 1103158371, 1932488079,
    462830590, 7940170334, 5293211042, 1073716059, 1988559085, 1628542722, 591012249,
    5289628764, 1354407983, 1070711534, 5093549645, 786524625, 1054082108, 457079535,
    890074596, 1822592287, 5150454404, 1108659433, 1507875731, 776223374, 519863247,
    195274504, 980890865, 136167256, 1554532059, 1124509395, 1091079434, 256279374,
    376354929, 5156406949, 1091079434, 958487975, 7721651978, 5404567840, 5192635009,
    56347698, 482930682, 968841275, 1054530353, 141161632, 5240714057, 437417994,
    5194168624, 471614227, 1249475721, 830277613, 381484651, 7092120596, 665087355,
    1012306147, 794359480, 687507155, 7046090569, 891114112, 1722849929, 391068243,
    5145175459, 1490589142, 782981139, 8124582270, 1168096810, 6886313887, 1932488079,
    389004511, 750456867, 756144571, 756144571, 7666320318, 7666320318, 122295300,
    936189434, 341693325, 5629035467, 1738445820, 5013784202, 2062436962, 1614031972,
    649470295, 1164229165, 1522837820, 6627650065, 285060165, 5831270968, 343892568,
    1503082041, 1015028392, 1020708495, 697771229, 939137830, 498360112, 455430062,
    215428232, 650165639, 756144571, 5106057947, 5203854625, 630598696, 471945591,
    8092660781, 1467944495, 5738076453, 819349894, 1036109915, 1995950681, 1129536087,
    328524295, 1073414086, 830310446, 651066660, 827709339, 6237336496, 1915470736,
    651066660, 1948107958, 1614277836, 5790729239, 287047994, 5276397219, 5218823383,
    940701749, 502929698, 978425385, 1461961055, 468927946, 925671238, 750782620,
    2134511013, 130851060, 141528250, 1649272870, 476820822, 1166461135, 1932488079,
    5434111768, 1437854449, 1360156442, 427976765, 525008809, 5302237821, 1009274307,
    1157307645, 734468608, 487415955, 1024231766, 2108719832, 7666320318
]

# Сообщение, которое ты хочешь отправить всем пользователям
message_text = "Мы приносим свои ихвенения за произошедший инцидент. Нас взломали, и мы работаем над исправлением. Просим прощения за неудобства."

# Функция для отправки сообщения всем пользователям
async def send_message_to_all_users():
    for user_id in user_ids:
        try:
            await bot.send_message(user_id, message_text)
            print(f"Сообщение отправлено пользователю {user_id}")
        except Exception as e:
            print(f"Не удалось отправить сообщение пользователю {user_id}: {e}")

# Запуск отправки сообщений
async def main():
    await send_message_to_all_users()

if __name__ == "__main__":
    asyncio.run(main())
